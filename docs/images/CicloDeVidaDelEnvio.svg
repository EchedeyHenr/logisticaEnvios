<?plantuml 1.2026.1beta5?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="728px" preserveAspectRatio="none" style="width:927px;height:728px;background:#FFFFFF;" version="1.1" viewBox="0 0 927 728" width="927px" zoomAndPan="magnify"><title>Ciclo de Vida del Env&#237;o - Arquitectura en Capas</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="371.6084" x="273.7847" y="27.9951">Ciclo de Vida del Env&#237;o - Arquitectura en Capas</text><g class="participant-lifeline" data-entity-uid="part1" data-qualified-name="Usuario" id="part1-lifeline"><g><title>Usuario</title><rect fill="#000000" fill-opacity="0.00000" height="529.2578" width="8" x="30.6021" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="34" x2="34" y1="118.5938" y2="647.8516"/></g></g><g class="participant-lifeline" data-entity-uid="part2" data-qualified-name="Presentacion" id="part2-lifeline"><g><title>Presentaci.n</title><rect fill="#000000" fill-opacity="0.00000" height="529.2578" width="8" x="221.2788" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="224.936" x2="224.936" y1="118.5938" y2="647.8516"/></g></g><g class="participant-lifeline" data-entity-uid="part3" data-qualified-name="Aplicacion" id="part3-lifeline"><g><title>Aplicaci.n</title><rect fill="#000000" fill-opacity="0.00000" height="529.2578" width="8" x="482.8779" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="485.9707" x2="485.9707" y1="118.5938" y2="647.8516"/></g></g><g class="participant-lifeline" data-entity-uid="part4" data-qualified-name="Dominio" id="part4-lifeline"><g><title>Dominio</title><rect fill="#000000" fill-opacity="0.00000" height="529.2578" width="8" x="687.9956" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="691.959" x2="691.959" y1="118.5938" y2="647.8516"/></g></g><g class="participant-lifeline" data-entity-uid="part5" data-qualified-name="Infraestructura" id="part5-lifeline"><g><title>Infraestructura</title><rect fill="#000000" fill-opacity="0.00000" height="529.2578" width="8" x="827.605" y="118.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="831.0322" x2="831.0322" y1="118.5938" y2="647.8516"/></g></g><g class="participant participant-head" data-entity-uid="part1" data-qualified-name="Usuario" id="part1-head"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53.2041" x="5" y="115.292">Usuario</text><ellipse cx="34.6021" cy="50.7969" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M34.6021,58.7969 L34.6021,85.7969 M21.6021,66.7969 L47.6021,66.7969 M34.6021,85.7969 L21.6021,100.7969 M34.6021,85.7969 L47.6021,100.7969" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-entity-uid="part1" data-qualified-name="Usuario" id="part1-tail"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53.2041" x="5" y="659.8467">Usuario</text><ellipse cx="34.6021" cy="671.6484" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M34.6021,679.6484 L34.6021,706.6484 M21.6021,687.6484 L47.6021,687.6484 M34.6021,706.6484 L21.6021,721.6484 M34.6021,706.6484 L47.6021,721.6484" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-entity-uid="part2" data-qualified-name="Presentacion" id="part2-head"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="104.6855" x="172.936" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90.6855" x="179.936" y="90.9951">Presentaci&#243;n</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49.3623" x="200.5977" y="107.292">(Menu)</text></g><g class="participant participant-tail" data-entity-uid="part2" data-qualified-name="Presentacion" id="part2-tail"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="104.6855" x="172.936" y="646.8516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90.6855" x="179.936" y="666.8467">Presentaci&#243;n</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49.3623" x="200.5977" y="683.1436">(Menu)</text></g><g class="participant participant-head" data-entity-uid="part3" data-qualified-name="Aplicacion" id="part3-head"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="143.8145" x="414.9707" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71.5449" x="451.1055" y="90.9951">Aplicaci&#243;n</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129.8145" x="421.9707" y="107.292">(ShipmentService)</text></g><g class="participant participant-tail" data-entity-uid="part3" data-qualified-name="Aplicacion" id="part3-tail"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="143.8145" x="414.9707" y="646.8516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71.5449" x="451.1055" y="666.8467">Aplicaci&#243;n</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129.8145" x="421.9707" y="683.1436">(ShipmentService)</text></g><g class="participant participant-head" data-entity-uid="part4" data-qualified-name="Dominio" id="part4-head"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="92.0732" x="645.959" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58.2012" x="662.895" y="90.9951">Dominio</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78.0732" x="652.959" y="107.292">(Shipment)</text></g><g class="participant participant-tail" data-entity-uid="part4" data-qualified-name="Dominio" id="part4-tail"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="92.0732" x="645.959" y="646.8516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58.2012" x="662.895" y="666.8467">Dominio</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78.0732" x="652.959" y="683.1436">(Shipment)</text></g><g class="participant participant-head" data-entity-uid="part5" data-qualified-name="Infraestructura" id="part5-head"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="167.1455" x="748.0322" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104.6855" x="779.2622" y="90.9951">Infraestructura</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="153.1455" x="755.0322" y="107.292">(ShipmentRepository)</text></g><g class="participant participant-tail" data-entity-uid="part5" data-qualified-name="Infraestructura" id="part5-tail"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="167.1455" x="748.0322" y="646.8516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104.6855" x="779.2622" y="666.8467">Infraestructura</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="153.1455" x="755.0322" y="683.1436">(ShipmentRepository)</text></g><g class="message" data-entity-1="part1" data-entity-2="part2" id="msg1"><polygon fill="#181818" points="213.2788,145.7266,223.2788,149.7266,213.2788,153.7266,217.2788,149.7266" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="34.6021" x2="219.2788" y1="149.7266" y2="149.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125.6772" x="41.6021" y="144.6606">Crear env&#237;o (datos)</text></g><g class="message" data-entity-1="part2" data-entity-2="part3" id="msg2"><polygon fill="#181818" points="474.8779,174.8594,484.8779,178.8594,474.8779,182.8594,478.8779,178.8594" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="225.2788" x2="480.8779" y1="178.8594" y2="178.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="174.2241" x="232.2788" y="173.7935">createShipment(comando)</text></g><g class="message" data-entity-1="part3" data-entity-2="part4" id="msg3"><polygon fill="#181818" points="679.9956,203.9922,689.9956,207.9922,679.9956,211.9922,683.9956,207.9922" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="486.8779" x2="685.9956" y1="207.9922" y2="207.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164.1948" x="493.8779" y="202.9263">validar reglas de negocio</text></g><g class="message" data-entity-1="part4" data-entity-2="part3" id="msg4"><polygon fill="#181818" points="497.8779,233.125,487.8779,237.125,497.8779,241.125,493.8779,237.125" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="491.8779" x2="690.9956" y1="237.125" y2="237.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118.6631" x="503.8779" y="232.0591">instancia de env&#237;o</text></g><g class="message" data-entity-1="part3" data-entity-2="part5" id="msg5"><polygon fill="#181818" points="819.605,262.2578,829.605,266.2578,819.605,270.2578,823.605,266.2578" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="486.8779" x2="825.605" y1="266.2578" y2="266.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76.0703" x="493.8779" y="261.1919">save(env&#237;o)</text></g><g class="message" data-entity-1="part5" data-entity-2="part3" id="msg6"><polygon fill="#181818" points="497.8779,291.3906,487.8779,295.3906,497.8779,299.3906,493.8779,295.3906" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="491.8779" x2="830.605" y1="295.3906" y2="295.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103.2954" x="503.8779" y="290.3247">env&#237;o persistido</text></g><g class="message" data-entity-1="part3" data-entity-2="part2" id="msg7"><polygon fill="#181818" points="236.2788,320.5234,226.2788,324.5234,236.2788,328.5234,232.2788,324.5234" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="230.2788" x2="485.8779" y1="324.5234" y2="324.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170.9551" x="242.2788" y="319.4575">confirmaci&#243;n / ID de env&#237;o</text></g><g class="message" data-entity-1="part2" data-entity-2="part1" id="msg8"><polygon fill="#181818" points="45.6021,349.6563,35.6021,353.6563,45.6021,357.6563,41.6021,353.6563" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="39.6021" x2="224.2788" y1="353.6563" y2="353.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115.064" x="51.6021" y="348.5903">Mostrar resultado</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="920.1777" x="0" y="382.2227"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="920.1777" y1="382.2227" y2="382.2227"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="920.1777" y1="385.2227" y2="385.2227"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2;" width="183.3618" x="368.408" y="371.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="164.8359" x="374.408" y="387.7231">Ciclo de vida del env&#237;o</text><g class="message" data-entity-1="part1" data-entity-2="part2" id="msg9"><polygon fill="#181818" points="213.2788,421.9219,223.2788,425.9219,213.2788,429.9219,217.2788,425.9219" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="34.6021" x2="219.2788" y1="425.9219" y2="425.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166.6768" x="41.6021" y="420.856">Cambiar estado del env&#237;o</text></g><g class="message" data-entity-1="part2" data-entity-2="part3" id="msg10"><polygon fill="#181818" points="474.8779,451.0547,484.8779,455.0547,474.8779,459.0547,478.8779,455.0547" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="225.2788" x2="480.8779" y1="455.0547" y2="455.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="237.5991" x="232.2788" y="449.9888">updateStatus(envioId, nuevoEstado)</text></g><g class="message" data-entity-1="part3" data-entity-2="part4" id="msg11"><polygon fill="#181818" points="679.9956,480.1875,689.9956,484.1875,679.9956,488.1875,683.9956,484.1875" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="486.8779" x2="685.9956" y1="484.1875" y2="484.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181.1177" x="493.8779" y="479.1216">validar transici&#243;n de estado</text></g><g class="message" data-entity-1="part4" data-entity-2="part3" id="msg12"><polygon fill="#181818" points="497.8779,509.3203,487.8779,513.3203,497.8779,517.3203,493.8779,513.3203" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="491.8779" x2="690.9956" y1="513.3203" y2="513.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130.9141" x="503.8779" y="508.2544">transici&#243;n permitida</text></g><g class="message" data-entity-1="part3" data-entity-2="part5" id="msg13"><polygon fill="#181818" points="819.605,538.4531,829.605,542.4531,819.605,546.4531,823.605,542.4531" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="486.8779" x2="825.605" y1="542.4531" y2="542.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91.4443" x="493.8779" y="537.3872">update(env&#237;o)</text></g><g class="message" data-entity-1="part5" data-entity-2="part3" id="msg14"><polygon fill="#181818" points="497.8779,567.5859,487.8779,571.5859,497.8779,575.5859,493.8779,571.5859" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="491.8779" x2="830.605" y1="571.5859" y2="571.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114.2642" x="503.8779" y="566.52">env&#237;o actualizado</text></g><g class="message" data-entity-1="part3" data-entity-2="part2" id="msg15"><polygon fill="#181818" points="236.2788,596.7188,226.2788,600.7188,236.2788,604.7188,232.2788,600.7188" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="230.2788" x2="485.8779" y1="600.7188" y2="600.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122.8081" x="242.2788" y="595.6528">estado actualizado</text></g><g class="message" data-entity-1="part2" data-entity-2="part1" id="msg16"><polygon fill="#181818" points="45.6021,625.8516,35.6021,629.8516,45.6021,633.8516,41.6021,629.8516" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="39.6021" x2="224.2788" y1="629.8516" y2="629.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161.4907" x="51.6021" y="624.7856">Mostrar estado del env&#237;o</text></g><?plantuml-src bPFDIiDG48Ntzoa6LorOt0iLf7NHHK4KNRaPRwOwaCoDzoUWx-JAH_35dFpP94Mjgq1olZjpphc977E25TlSGKPmpndgCuShgJxV7IpWqhyaZcHZyWWaiC8IWp5ee_Dm5n9wTgP47zboYHBXvDfJ88be-VD37cIs9Kdp4y00-ozEninbcRFz9cwVkInKU4k-Oaijt4kcwDeLBEm6MAllte_56zbvf11zQWmDe1igNM0rzThY4wKndLTON8nym3ciFA7NR9h4PXb65-Pcf55clxuILeb8_UYPTGLAvkR635JAT1OKg33NPZnuUifrEMrAwCcfplIQnNG6IuWebki-k-McvqyyAXImebahdflfvuCHdUMIVE0GEPiCE4pAEjcnBzgYuGmswy5ouyGKxXC_XwtJBHhx8UKHwq7BvVxMLlsjxHPQBd-j2uj7hWiBzKa3xlVEKfdLdKMCATGHiTjafo29AdVLd7H4VMf20hVkQ-CDztE5Gxc6NB1cZ7-Ns6xwxnhrbqwwvnl-tMCNtP0uehs3mBy0?></g></svg>